---
# tasks file for os_config_webserver
#
#
- name: configure DNS
  copy:
    content: "nameserver 10.250.210.1"
    dest: /etc/resolv.conf
- name: install required packages
  yum:
    name:
      - httpd
      - firewalld
      - git-all
    state: present
- name: configure firewalld
  ansible.posix.firewalld:
    service: http
    permanent: yes
    state: enabled
  notify: restart firewalld
- name: copy website files / dependencies from git
  ansible.builtin.git:
    repo: https://github.com/darrylkelly88/bracknell.git
    dest: /root/
- name: copy html template
  template:
    src: index.html.j2
    dest: /var/www/html/index.html.j2
  notify: restart httpd

